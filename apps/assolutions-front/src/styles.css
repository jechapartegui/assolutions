/* =========================
   VISIBILITÉ RESPONSIVE
   ========================= */
.mobile { display: none; }
.tablet { display: none; }
.fullscreen { display: contents; }

@media (min-width: 500px) { .tablet { display: contents; } }
@media (max-width: 767px) { .mobile { display: contents; } .fullscreen { display: none; } }

/* =========================
   VARIABLES (ajuste ici)
   ========================= */
:root{
  /* Desktop : tu m’as dit 50px */
  --desktop-topbar-h: 50px;

  /* Mobile : navbar + footer appli (tabs) */
  --navbar-mobile-h: 56px;
  --mobile-footer-h: 64px;

  /* Safe areas iOS */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* =========================
   LOCK SCROLL GLOBAL
   ========================= */
html, body {
  height: 100%;
  overflow: hidden; /* pas de scroll page */
}

/* Host Angular */
app-root {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* =========================
   FOOTER MOBILE (APP-COMPONENT)
   ========================= */
.mobile .footer{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  width: 100%;
  z-index: 1000;
  margin: 0;
  border-top: 1px solid rgba(0,0,0,0.08);
  background: #fff;
  padding: .25rem 0;
  padding-bottom: calc(.25rem + var(--safe-bottom));
}

/* =========================
   NAVBAR MOBILE FIXE (haut)
   ========================= */
@media (max-width: 767px){
  .navbar.is-fixed-top{
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 1100;
    min-height: var(--navbar-mobile-h);
    background: #fff;
    border-bottom: 1px solid rgba(0,0,0,.06);
  }
}

/* =========================
   LAYOUT PAGES PLEIN ÉCRAN
   ========================= */
.page-fill{
  /* Desktop : 100vh - topbar desktop (50px) */
  height: calc(100dvh - var(--desktop-topbar-h));
  overflow: hidden;
  display: flex; /* garde le modèle flex des colonnes Bulma */
}

@media (max-width: 767px){
  .page-fill{
    /* Mobile : 100vh - navbar mobile - footer mobile */
  /*  height: calc(100dvh - var(--navbar-mobile-h) - var(--mobile-footer-h));*/
    height: calc(100dvh - var(--mobile-footer-h));
  }
}

/* Colonnes internes -> doivent pouvoir rétrécir pour laisser scroller l’enfant */
.columns.page-fill { min-height: 0; }
.columns.page-fill > .column{
  display: flex;
  flex-direction: column;
  min-height: 0; /* crucial pour autoriser le scroll interne */
}

/* =========================
   CARD : header/footer fixes + contenu scrollable
   ========================= */
.card{
  display: grid;
  grid-template-rows: auto 1fr auto; /* header | content | footer */
  border: 1px solid #ddd;
  border-radius: 6px;
  overflow: hidden;
  background: #fff;
  height: 100%; /* prend toute la hauteur de sa colonne */
}

/* Header/footer homogènes (liste & fiche) */
.card > .card-header,
.card > .card-footer{
  background: #fff;
  align-items: center;
  min-height: 48px;                 /* visuel homogène */
  padding: .6rem 1rem;              /* petit padding pour ne pas coller aux bords */
  border-color: rgba(0,0,0,.06);
}
.card > .card-header{ border-bottom: 1px solid rgba(0,0,0,.06); }
.card > .card-footer{ border-top:    1px solid rgba(0,0,0,.06); }

/* Zone scrollable unique */
.card > .card-content,
.card > .scrollable-card-content{
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  min-height: 0; /* indispensable en grid */
  padding: .75rem 1rem; /* léger padding global */
}

/* Mobile : réserve juste ce qu’il faut pour le footer global */
@media (max-width: 767px){
  .card > .card-content,
  .card > .scrollable-card-content{
    padding-bottom: calc(var(--mobile-footer-h) + 4px + var(--safe-bottom));
  }
}

/* =========================
   LISTE — MOBILE
   ========================= */
/* Zone qui SCROLLE sous la navbar fixe */
@media (max-width: 767px){
  .container-box{
    position: relative;
    padding-top: calc(var(--navbar-mobile-h) + 8px + var(--safe-top)); /* descend sous la navbar */
    height: calc(100dvh - var(--navbar-mobile-h) - var(--mobile-footer-h));
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    padding-left: 10px;
    padding-right: 10px;
    padding-bottom: 10px;
    margin: 0;
    background: #fff;
  }
}

/* =========================
   LISTE — TYPO + ALIGNEMENT
   ========================= */
.fullscreen .card .card-content .content .table{ font-size: .9rem; }   /* desktop compact */
@media (max-width: 767px){
  .mobile .media .title{ font-size: .9rem; }
  .mobile .media-content{ font-size: .85rem; }
}

/* =========================
   TABLES / FORM / DIVERS
   ========================= */
.card-content > .content > .columns,
.field-container > .columns{ width: 100%; }

.field-container{
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 1rem;
}
.field-container .field{ flex: 1 1 auto; min-width: 200px; }
.field-container .field input[type="date"],
.field-container .field input[type="time"],
.field-container .field input[type="number"]{
  flex: 1 1 200px; max-width: 200px; width: 100%;
}

/* Footer de card : éléments un peu plus compacts */
.card-footer select,
.card-footer input,
.card-footer label,
.card-footer span,
.card-footer .btn,
.card-footer .buttons{ font-size: smaller; }
.card-footer .field-label{ align-content: center; }
.card-footer .field-body{ margin-right: .5rem; }

.media-content{ padding-left: 10px; }

/* =========================
   SCROLL TO TOP
   ========================= */
.scroll-to-top{
  position: absolute;
  right: 20px;
  bottom: 60px;
  z-index: 1000;
  background-color: rgba(0,0,0,0.7);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 40px; height: 40px;
  font-size: 20px;
  cursor: pointer;
  opacity: .7;
  transition: opacity .3s ease, transform .3s ease;
}
.scroll-to-top:hover{ opacity: 1; transform: scale(1.1); }

/* =========================
   BOUTONS MODERNES
   ========================= */
.btn-mobile{
  min-height: 3rem; min-width: 3rem; padding: .75rem 1rem;
  border-radius: 9999px; line-height: 1.15; border-width: 0;
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease, filter 120ms ease;
}
.btn-elevated{ box-shadow: 0 2px 8px rgba(0,0,0,.12); }
.btn-mobile:hover{ transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,.16); }
.btn-mobile:active{ transform: translateY(0); box-shadow: 0 2px 8px rgba(0,0,0,.16); filter: saturate(1.06); }
.btn-mobile:focus-visible{
  outline: none;
  box-shadow: 0 2px 8px rgba(0,0,0,.12), 0 0 0 3px rgba(32,156,238,.35);
}
.btn-mobile[disabled]{ opacity: .55; pointer-events: none; transform: none; box-shadow: none; }
.btn-lg{ font-size: 1rem; padding: .9rem 1.25rem; }
.btn-block-mobile{ width: 100%; }
@media (min-width: 769px){ .btn-block-mobile{ width: auto; } }

/* Lien “bouton-texte” moderne (pour actions secondaires) */
.btn-link {
  background: transparent;
  border: 0;
  padding: 0.25rem 0;
  color: #3273dc; /* Bulma primary */
  font-weight: 500;
  cursor: pointer;
}
.btn-link:hover { text-decoration: underline; }

/* Petites utilitaires d’empilement vertical propre */
.stack-2 { display: flex; flex-direction: column; gap: 0.5rem; }    /* 8px */
.stack-3 { display: flex; flex-direction: column; gap: 0.75rem; }   /* 12px */

/* Compact pour lignes serrées */
.btn-compact{
  padding: .25rem .4rem;
  min-height: auto; min-width: auto;
  border-radius: 6px; box-shadow: none;
}
.btn-compact .icon, .btn-compact i{ font-size: 1rem; line-height: 1; }

/* =========================
   TAGS JOLIS
   ========================= */
.tags .tag{
  border-radius: 9999px; padding: .35em .85em; font-weight: 500;
  box-shadow: 0 1px 3px rgba(0,0,0,.12); transition: all 150ms ease;
}
.tags .tag:hover{ transform: translateY(-1px); box-shadow: 0 3px 6px rgba(0,0,0,.16); }
.tags .tag:active{ transform: translateY(0); box-shadow: 0 1px 3px rgba(0,0,0,.18); }
.tags .tag.is-success{ background-color: #e6f8ed; color: #257942; }
.tags .tag.is-info{ background-color: #e6f3fa; color: #216fa5; }
.tags .tag.is-danger{ background-color: #fde8e8; color: #b42318; }
 