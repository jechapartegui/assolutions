<div class="container">
  <div *ngIf="!editMode" class="columns">
    <div class="column">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title" i18n>Liste des lieux</p>
          <button type="button" (click)="Creer()" class="button is-primary is-rounded is-outlined"
            style="align-self: center; ;fill:hsl(171, 100%, 41%)">
            <i class="fa-solid fa-plus"></i>
          </button>
        </header>
        <span class="fullscreen">
          <div class="card-content">
            <table class="table" style="width: 100%;font-size:smaller" *ngIf="liste_lieu && liste_lieu.length> 0">
              <thead>
                <tr>
                  <th><span class="th_filtre">
                      <span class="ligne">
                        <span style="font-size: smaller;" i18n>Nom</span>
                        <span style="cursor: pointer;">
                          <i *ngIf="sort_nom === 'NO'" (click)="Sort('ASC', 'nom')" class="fa-solid fa-sort"></i>
                          <i *ngIf="sort_nom === 'ASC'" (click)="Sort('DESC', 'nom')" class="fa-solid fa-sort-up"></i>
                          <i *ngIf="sort_nom === 'DESC'" (click)="Sort('ASC', 'nom')" class="fa-solid fa-sort-down"></i>
                        </span>
                      </span>

                    </span>
                  </th>
                  <th><span class="th_filtre">
                      <span class="ligne">
                        <span style="font-size: smaller;" i18n>Adresse</span>
                      </span>
                    </span>
                  </th>
                  <th><span style="font-size: smaller;" i18n>Action</span></th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let lieu of liste_lieu">
                  <td>
                    {{lieu.nom}}
                  </td>
                  <td>
                    {{lieu.adresse.Street}}&nbsp;{{lieu.adresse.PostCode}}&nbsp;{{lieu.adresse.City}}                       
                  </td>
               
                  <td>
                    <div class="buttons" style="display: flex; flex-direction: row; flex-wrap: nowrap;">                    
                      <button i18n-title title="Supprimer" class="button is-danger is-rounded is-outlined" type="button"
                        (click)="Delete(lieu)">
                        <i class="fa-solid fa-trash-can"></i>
                      </button>
  
                      <button i18n-title title="Editer" class="button is-info is-rounded is-outlined" type="button"
                        (click)="Edit(lieu)">
                        <i class="fa-solid fa-pen-to-square"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <p *ngIf="!liste_lieu || liste_lieu.length ==0">Pas de séances disponible</p>
          </div>
        </span>
        <span class="mobile">
          <ng-container *ngFor="let lieu of liste_lieu">
            <div class="box">
              <article class="media">
                <div class="media-content">
                  <span class="title" (click)="Edit(lieu)"><strong>{{lieu.nom}}</strong></span>
                  <div>
                    {{lieu.adresse.Street}}&nbsp;{{lieu.adresse.PostCode}}&nbsp;{{lieu.adresse.City}} 
                   
                  </div>
  
                </div>
              </article>
            </div>
          </ng-container>
        </span>
      </div>
    </div>
  </div>
  <div *ngIf="editMode" class="container">
    <div class="columns is-justify-content-center">
      <div class="column is-6-tablet is-5-desktop is-4-widescreen is-3-fullh">
        <div class="box">
  
          <h2 *ngIf="editLieu.id==0" class="title is-2" i18n>Créer un lieu</h2>
          <h2 *ngIf="editLieu.id>0" class="title is-2" i18n>Editer un lieu</h2>
                    
             
            <div class="field">
              <label class="label" i18n>Nom</label>
              <input [class]="editLieu.nom.length>4 ? 'input' : 'input is-danger'" type="text" id="nom_rider"
                name="nom_rider" i18n-placeholder placeholder="Nom" [(ngModel)]="editLieu.nom" required>
              <p class="help is-danger" *ngIf="editLieu.nom.length <5" i18n>Le nom du lieu doit au moins faire 5
                caractères
              </p>
            </div>
            <div class="field">
                <label class="label" i18n>Adresse :</label>
                <app-address [thisAdresse]="editLieu.adresse"></app-address>
            </div>
        </div>
  
          <div class="buttons">
            <button class="button is-primary is-rounded is-outlined" [disabled]="(editLieu.nom.length < 5 || !valid_address) " type="button"
              style="fill:hsl(171, 100%, 41%)" (click)="Save(editLieu)">
              <i class="fa-solid fa-floppy-disk"></i>
            </button>
            <button (click)="Refresh()" class="button is-warning is-rounded is-outlined" style="fill:#FFB70F">
              <i class="fa-solid fa-arrows-rotate"></i>
            </button>
            <button (click)="Retour()" class="button is-danger is-rounded is-outlined" style="fill:hsl(348, 100%, 61%)">
              <i class="fa-solid fa-backward-fast"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>