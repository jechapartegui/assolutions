<div class="container">
  <div class="columns" *ngIf="!editMode"  style="margin-top: 0.5rem;">
        <div class="column">            
            <hover-button [nomclass]="filter_statut == null ? 'button is-info is-rounded is-outlined' : 'button is-info is-rounded'"
            [nomicon]="'fa-solid fa-calendar-check'"
            [libelle]="filter_statut == null ? 'Séance prévue' : 'Toutes les séances'"
             (click)="filter_statut == null ? filter_statut = 'prévue' : filter_statut = null;">
            </hover-button>

            <span class="fullscreen">
              <hover-button [nomclass]="afficher_filtre ? 'button is-info is-rounded' : 'button is-info is-rounded  is-outlined'"
              [nomicon]="'fa-solid fa-filter'"
              [libelle]="afficher_filtre  ? 'Masquer les filtres' : 'Afficher les filtres'"
              (click)="afficher_filtre ? afficher_filtre = false : afficher_filtre = true;">
              </hover-button>
            </span>
            <ng-container *ngIf="(GlobalService.Menu$ | async) == 'ADMIN' || (GlobalService.Menu$ | async) == 'PROF'" >
              <hover-button [nomclass]="'button is-outlined is-rounded is-primary'"
              [nomicon]="'fas fa-layer-plus'"
              [libelle]="'Créer une série'"
              (click)="Creer(true)">
              </hover-button>
              <hover-button [nomclass]="'button is-outlined is-rounded is-primary'"
              [nomicon]="'fas fa-check-double'"
              [libelle]="'Terminer les séances'" 
              (click)="TerminerSeances()">
              </hover-button>              
            </ng-container>
            <ng-container *ngIf="(GlobalService.Menu$ | async) == 'ADMIN'">             
                <div class="field has-addons">
                  <p class="control">
                    <span class="select">
                      <select id="seasons" [(ngModel)]="active_saison" i18n-placeholder placeholder="Choisir la saison">
                        <!-- Options pour les professeurs -->
                        <ng-container *ngFor="let season of liste_saison">
                          <option [value]="season.id">{{season.nom}}</option>
                        </ng-container>
                      </select>
                    </span>
                  </p>
                  <p class="control">
                    <button type="button" class="button is-primary is-outlined">
                      <i class="fas fa-check"></i>
                    </button>
                  </p>
                </div>
            </ng-container>
        </div>
    </div>
   
  </div>
  <div *ngIf="!editMode" class="columns">
    <div class="column">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title" i18n>Liste des séances</p> 
          <button type="button" (click)="Creer(false)" class="button is-primary is-rounded is-outlined"
            style="align-self: center; ;fill:hsl(171, 100%, 41%)">
            <i class="fa-solid fa-plus"></i>
          </button>
        </header>
        <span class="fullscreen">
          <div class="card-content">
            <table class="table" style="width: 100%;font-size:smaller"
              *ngIf="list_seance_VM && list_seance_VM.length> 0">
              <thead>
                <tr>
                  <th><span class="th_filtre">
                    <span class="ligne">
                       <span style="font-size: smaller;" i18n>Nom</span>
                        <span style="cursor: pointer;">
                          <i *ngIf="sort_nom === 'NO'" (click)="Sort('ASC', 'nom')" class="fa-solid fa-sort"></i>
                          <i *ngIf="sort_nom === 'ASC'" (click)="Sort('DESC', 'nom')" class="fa-solid fa-sort-up"></i>
                          <i *ngIf="sort_nom === 'DESC'" (click)="Sort('ASC', 'nom')" class="fa-solid fa-sort-down"></i>
                        </span>
                      </span>
                      <input *ngIf="afficher_filtre" style="width: fit-content;font-size:smaller;"
                        class="input is-small" i18n-placeholder placeholder="Nom du cours" type="text"
                        [(ngModel)]="filter_nom">
                    </span>
                  </th>
                  <th><span class="th_filtre">
                    <span class="ligne">
                        <span style="font-size: smaller;" i18n>Cours / Type</span>
                        <span style="cursor: pointer;">
                          <i *ngIf="sort_cours === 'NO'" (click)="Sort('ASC', 'cours')" class="fa-solid fa-sort"></i>
                          <i *ngIf="sort_cours === 'ASC'" (click)="Sort('DESC', 'cours')"
                            class="fa-solid fa-sort-up"></i>
                          <i *ngIf="sort_cours === 'DESC'" (click)="Sort('ASC', 'cours')"
                            class="fa-solid fa-sort-down"></i>
                        </span>
                      </span>
                    </span>
                  </th>
                  <th><span class="th_filtre">
                    <span class="ligne">
                        <span style="font-size: smaller;" i18n>Date</span>
                        <span style="cursor: pointer;">
                          <i *ngIf="sort_date === 'NO'" (click)="Sort('ASC', 'date')" class="fa-solid fa-sort"></i>
                          <i *ngIf="sort_date === 'ASC'" (click)="Sort('DESC', 'date')"
                            class="fa-solid fa-sort-up"></i>
                          <i *ngIf="sort_date === 'DESC'" (click)="Sort('ASC', 'date')"
                            class="fa-solid fa-sort-down"></i>
                        </span>
                      </span>
                      <span *ngIf="afficher_filtre" class="ligne">
                        <div style="gap: 6px;" class="field is-small is-horizontal field-jecha">
                          <label for="groupe" class="label is-small">Du</label>
                          <input style="width: fit-content;" class="input is-small" i18n-placeholder
                            placeholder="Filtre date avant" type="date" [(ngModel)]="filter_date_apres">

                        </div>
                      </span>
                      <span *ngIf="afficher_filtre" class="ligne">
                        <div style="gap: 6px;" class="field is-small is-horizontal field-jecha">
                          <label for="groupe" class="label is-small">Au</label>
                          <input style="width: fit-content;" class="input is-small" i18n-placeholder
                            placeholder="Filtre date après" type="date" [(ngModel)]="filter_date_avant">
                        </div>
                      </span>
                    </span>
                  </th>
                  <th><span class="th_filtre">
                    <span class="ligne"><span style="font-size: smaller;" i18n>Heure / Durée</span></span>
                    </span></th>
                  <th class="no_mobile"><span class="th"><span class="ligne" style="font-size: smaller;"
                        i18n>Professeurs</span>
                      <span *ngIf="afficher_filtre" class="ligne">
                        <div class="select">
                          <select style="font-size:smaller;" [(ngModel)]="filter_prof">
                            <option [value]="0" i18n>Tous</option>
                            <ng-container *ngFor="let pr of liste_prof_filter">
                              <option [value]="pr.key" i18n>{{pr.value}}</option>
                            </ng-container>
                          </select>
                        </div>
                      </span>
                    </span>
                  </th>
                  <th><span class="th_filtre">
                    <span class="ligne"><span style="font-size: smaller;" i18n>Lieu</span>
                      <span
                          style="cursor: pointer;">
                          <i *ngIf="sort_lieu === 'NO'" (click)="Sort('ASC', 'lieu')" class="fa-solid fa-sort"></i>
                          <i *ngIf="sort_lieu === 'ASC'" (click)="Sort('DESC', 'lieu')"
                            class="fa-solid fa-sort-up"></i>
                          <i *ngIf="sort_lieu === 'DESC'" (click)="Sort('ASC', 'lieu')"
                            class="fa-solid fa-sort-down"></i>
                        </span>
                      </span>
                    </span>
                  </th>
                  <th class="no_mobile"><span style="font-size: smaller;" i18n>Groupes</span></th>
                  <th><span style="font-size: smaller;" i18n>Statut</span></th>
                  <th><span style="font-size: smaller;" i18n>Action</span></th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let seance of list_seance_VM | filterLibelle : filter_nom | filterCours : filter_cours |  filterDateAvant : filter_date_avant|  filterDateApres : filter_date_apres |filterGroupe : filter_groupe | filterLieu : filter_lieu | filterListProf : filter_prof">
                  <td>
                    {{seance.libelle}}
                  </td>
                  <td>


                    <ng-container *ngIf="seance.TypeSeance==='ENTRAINEMENT'">
                      <ng-container (ngModel)="filter_cours" *ngFor="let cours of listeCours">
                        <ng-container *ngIf="seance.Cours==cours.id">
                          <span>{{cours.nom}}</span>
                        </ng-container>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='MATCH'">
                      <span i18n>Match</span>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='EVENEMENT'">
                      <span i18n>Evénement</span>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='SORTIE'">
                      <span i18n>Sortie</span>
                    </ng-container>
                  </td>
                  <td>{{ seance.date_seance | date: 'dd/MM/yyyy' }}
                  </td>
                  <td>{{seance.heure_debut}} ({{seance.duree_seance}} <span i18n>&nbsp;min</span>)
                  </td>
                  <td class="no_mobile">
                    <div class="tags is-small">
                      <ng-container *ngFor="let gr of seance.professeurs">
                        <span class="tag is-success">
                          {{gr.value}}
                        </span>
                      </ng-container>
                    </div>
                  </td>
                  <td>{{trouverLieu(seance.LieuId)}}
                  </td>
                  <td class="no_mobile">
                    <div class="tags is-small">
                      <ng-container *ngFor="let gr of seance.Groupes">
                        <span class="tag is-success">
                          {{gr.nom}}
                        </span>
                      </ng-container>
                    </div>
                  </td>
                  <td>
                    <ng-container *ngIf="seance.Statut == 'prévue'">
                      <div class="icon-text">
                        <span class="icon has-text-info">
                          <i class="fa-solid fa-calendar-check"></i>
                        </span>
                      </div>
                    </ng-container>
                    <ng-container *ngIf="seance.Statut == 'réalisée'">
                      <div class="icon-text">
                        <span class="icon has-text-success">
                          <i class="fa-solid fa-flag-checkered"></i>
                        </span>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="seance.Statut == 'annulée'">
                      <div class="icon-text">
                        <span class="icon has-text-danger">
                          <i class="fa-solid fa-ban"></i>
                        </span>
                        </div>
                    </ng-container>
                  </td>
                  <td>
                    <div class="buttons">
                      <button i18n-title title="Supprimer"
                          class="button is-danger is-rounded is-outlined" type="button"
                          (click)="Delete(seance)" >
                          <i class="fa-solid fa-trash-can"></i>
                      </button>

                      <button i18n-title title="Editer"
                          class="button is-info is-rounded is-outlined" type="button"
                           (click)="Edit(seance)">
                          <i class="fa-solid fa-pen-to-square"></i>
                      </button>
                  </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <p *ngIf="!list_seance_VM || list_seance_VM.length ==0">Pas de séances disponible</p>
          </div>
        </span>
        <span class="mobile">
          <ng-container *ngFor="let seance of list_seance_VM">
            <div class="box">
              <article class="media">
                <div class="media-content">
                  <span class="title" (click)="Edit(seance)"><strong>{{seance.libelle}}&nbsp;{{ seance.date_seance |
                      date: 'dd/MM/yyyy' }}</strong></span>
                  <div>
                    <ng-container *ngIf="seance.TypeSeance==='ENTRAINEMENT'">

                      <span i18n>Cours</span>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='MATCH'">
                      <span i18n>Match</span>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='EVENEMENT'">
                      <span i18n>Evénement</span>
                    </ng-container>
                    <ng-container *ngIf="seance.TypeSeance==='SORTIE'">
                      <span i18n>Sortie</span>
                    </ng-container>
                    - {{seance.heure_debut}} ({{seance.duree_seance}} <span i18n>&nbsp;min</span>)
                    {{trouverLieu(seance.LieuId)}}
                    <ng-container *ngIf="seance.Statut == 'prévue'">
                      <svg width="20" style="fill:blue" height="20">
                        <use xlink:href=".\assets\liste.svg#prevu"></use>
                      </svg>
                    </ng-container>
                    <ng-container *ngIf="seance.Statut == 'réalisée'">
                      <svg width="20" style="fill:hsl(171, 100%, 41%)" height="20">
                        <use xlink:href=".\assets\liste.svg#termine"></use>
                      </svg>
                    </ng-container>
                    <ng-container *ngIf="seance.Statut == 'annulée'">
                      <svg width="20" style="fill:hsl(348, 100%, 61%)" height="20">
                        <use xlink:href=".\assets\liste.svg#annuler"></use>
                      </svg>
                    </ng-container>
                  </div>

                </div>
              </article>
            </div>
          </ng-container>
        </span>
      </div>
    </div>
  </div>
  <div *ngIf="editMode" class="container">
    <div class="columns is-justify-content-center">
      <div class="column is-6-tablet is-5-desktop is-4-widescreen is-3-fullh">
        <div class="box">

          <h2 *ngIf="editSeance.ID==0 && editMode_serie" class="title is-2" i18n>Créer une série de séances</h2>
          <h2 *ngIf="editSeance.ID==0 && !editMode_serie" class="title is-2" i18n>Créer une séance</h2>
          <h2 *ngIf="editSeance.ID>0" class="title is-2" i18n>Editer une séance</h2>
          <ng-container *ngIf="editSeance.ID==0">
            <div class="field">
              <label class="label" i18n>Type de séance</label>
              <div class="select">
                <select id="cours" [(ngModel)]="editSeance.TypeSeance">
                  <option value="ENTRAINEMENT" i18n>Cours</option>
                  <option value="SORTIE" i18n>Sortie</option>
                  <option value="EVENEMENT" i18n>Evenement</option>
                  <option value="MATCH" i18n>Match</option>
                </select>
              </div>
              <p class="help is-danger" *ngIf="!editSeance.TypeSeance" i18n>La sélection d'un type de séance est
                obligatoire</p>
            </div>
            <div *ngIf="editSeance.TypeSeance == 'ENTRAINEMENT'" class="field">
              <label class="label" i18n>Cours</label>
              <div class="select">
                <select id="cours" (ngModelChange)="onCoursSelectionChange($event)" [(ngModel)]="editSeance.Cours">
                  <option *ngFor="let cours of listeCours" [value]="cours.id">{{cours.nom}}</option>
                </select>
              </div>
              <p class="help is-danger" *ngIf="!editSeance.Cours" i18n>La sélection d'un cours est obligatoire</p>
            </div>
          </ng-container>
          <ng-container *ngIf="editSeance.ID>0">
            <div *ngIf="editSeance.Cours>0" class="field">
              <label class="label" i18n>Cours</label>
              <span>{{GetCours(editSeance.Cours)}}</span>
            </div>
            <div class="field">
              <label class="label" i18n>Type de séance</label>
              <span>{{GetType(editSeance.TypeSeance)}}</span>
            </div>
          </ng-container>
          <ng-container
            *ngIf="(editSeance.TypeSeance === 'ENTRAINEMENT' && editSeance.Cours>0) || (editSeance.TypeSeance != 'ENTRAINEMENT')">

            <ng-container *ngIf="editMode_serie">
              <div class="field">
                <label class="label" i18n>Jour de la semaine</label>
                <div class="select">
                  <select id="jour" [(ngModel)]="jour_semaine" placeholder="Jour">
                    <option [value]="'Monday'" i18n>lundi</option>
                    <option [value]="'Tuesday'" i18n>mardi</option>
                    <option [value]="'Wednesday'" i18n>mercredi</option>
                    <option [value]="'Thursday'" i18n>jeudi</option>
                    <option [value]="'Friday'" i18n>vendredi</option>
                    <option [value]="'Saturday'" i18n>samedi</option>
                    <option [value]="'Sunday'" i18n>dimanche</option>
                  </select>
                </div>
              </div>

              <div class="field">
                <label class="label" i18n>Date de début de la série</label>
                <input class="input" id="date_seance" type="date" [(ngModel)]="editSeance.date_seance">
                <p class="help is-danger" *ngIf="!editSeance.valid.date" i18n>La date de début de la série doit être
                  saisie
                </p>
              </div>

              <div class="field">
                <label class="label" i18n>Date de fin de la série</label>
                <input class="input" id="date_seance" type="date" [(ngModel)]="date_fin_serie">
                <p class="help is-danger" *ngIf="!date_fin_serie" i18n>La date de fin de la série doit être saisie
                </p>
              </div>
            </ng-container>
            <ng-container *ngIf="!editMode_serie">
              <div class="field">
                <label class="label" i18n>Date de la séance</label>
                <span class="title_label" *ngIf="editSeance.Cours">&nbsp;({{jour_semaine}})</span>
                <input class="input" id="date_seance" type="date" [(ngModel)]="editSeance.date_seance">
                <p class="help is-danger" *ngIf="!editSeance.valid.date" i18n>La date de la séance doit être saisie
                </p>
              </div>
            </ng-container>
            <div class="field">
              <label class="label" i18n>Libellé</label>
              <input [class]="editSeance.valid.libelle ? 'input' : 'input is-danger'" type="text" id="nom_rider"
                name="nom_rider" i18n-placeholder placeholder="Nom" [(ngModel)]="editSeance.libelle" required>
              <p class="help is-danger" *ngIf="!editSeance.valid.libelle" i18n>Le libellé doit faire au moins 5
                caractères
              </p>
            </div>
            <div class="field">
              <label class="label" i18n>Heure de début :</label>
              <input matInput class="input" id="heure_debut" type="time" [(ngModel)]="editSeance.heure_debut">
              <p class="help is-danger" *ngIf="!editSeance.valid.heure" i18n>L'heure doit être saisie</p>
            </div>
            <div class="field">
              <label class="label" i18n>Durée de la séance</label>
              <input class="input" id="duree_seance" type="number" [(ngModel)]="editSeance.duree_seance">
              <p class="help is-danger" *ngIf="!editSeance.valid.duree" i18n>La durée doit être saisie</p>
            </div>
            <div class="field">
              <label class="label" i18n>Lieu</label>
              <div class="select">
                <select class="form-control" id="lieu" [(ngModel)]="editSeance.LieuId" placeholder="Lieu">
                  <option *ngFor="let lieu of listelieu" [value]="lieu.key">{{ lieu.value }}</option>
                </select>
                <p class="help is-danger" *ngIf="!editSeance.valid.lieu" i18n>Le lieu doit être renseigné</p>
              </div>
            </div>
            <div class="field">
              <label class="label" i18n>Statut</label>
              <ng-container *ngIf="editSeance.ID <1">
                <div class="icon-text">
                  <span class="icon has-text-info">
                    <i class="fa-solid fa-calendar-check"></i>&nbsp;<span i18n>Prévue</span>
                  </span>
                </div>
              </ng-container>
              <ng-container *ngIf="editSeance.ID >0">
                <ng-container *ngIf="editSeance.Statut == 'prévue'">
                  <div class="field">
                  <div class="icon-text">
                    <span class="icon has-text-info">
                      <i class="fa-solid fa-calendar-check"></i>&nbsp;<span i18n>Prévue</span>
                    </span>
                  </div></div>
                  <hover-button [nomclass]="'button is-outlined is-rounded is-primary'"
                  [nomicon]="'fas fa-check'"
                  [libelle]="'Terminer la séance'" 
                  (click)="ChangerStatut('réalisée')" >
                  </hover-button>  
                  <hover-button [nomclass]="'button is-outlined is-rounded is-danger'"
                  [nomicon]="'fa-solid fa-ban'"
                  [libelle]="'Annuler la séance'" 
                  (click)="ChangerStatut('annulée')" >
                  </hover-button>            
                </ng-container>
                <ng-container *ngIf="editSeance.Statut == 'réalisée'">
                  <div class="icon-text">
                    <span class="icon has-text-info">
                      <i class="fas fa-check"></i>&nbsp;<span i18n>Terminée</span>
                    </span>
                  </div>
                  <hover-button [nomclass]="'button is-outlined is-rounded is-info'"
                  [nomicon]="'fa-solid fa-calendar-check'"
                  [libelle]="'Planifier la séance'" 
                  (click)="ChangerStatut('prévue')" >
                  </hover-button>  
                  <hover-button [nomclass]="'button is-outlined is-rounded is-danger'"
                  [nomicon]="'fa-solid fa-ban'"
                  [libelle]="'Annuler la séance'" 
                  (click)="ChangerStatut('annulée')" >
                  </hover-button>           
                 
                </ng-container>
                <ng-container *ngIf="editSeance.Statut == 'annulée'">
                  <div class="icon-text">
                    <span class="icon has-text-danger">
                      <i class="fa-solid fa-ban"></i>&nbsp;<span i18n>Annulée</span>
                    </span>
                  </div>
                  <hover-button [nomclass]="'button is-outlined is-rounded is-info'"
                  [nomicon]="'fa-solid fa-calendar-check'"
                  [libelle]="'Planifier la séance'" 
                  (click)="ChangerStatut('prévue')" >
                  </hover-button>  
                  <hover-button [nomclass]="'button is-outlined is-rounded is-primary'"
                  [nomicon]="'fas fa-check'"
                  [libelle]="'Terminer la séance'" 
                  (click)="ChangerStatut('réalisée')" >
                  </hover-button>           
                </ng-container>                
              </ng-container>
            </div>
            <div class="field">
              <label class="label" for="place_maximum"><span i18n>Professeurs</span>&nbsp;<button
                  *ngIf="editSeance.professeurs.length>0"
                  (click)="manage_prof ? manage_prof = false : manage_prof = true">Man</button></label>

              <app-prof [liste_prof]="listeprof" [thisSeance]="editSeance" [manage]="manage_prof"
                [Profs]="editSeance.professeurs"></app-prof>
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Age minimum ? :</label>
              <div class="buttons has-addons">
                <button type="button"
                  [class]="editSeance.EstAgeMinimum == true ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstAgeMinimum == true ? editSeance.EstAgeMinimum = false : editSeance.EstAgeMinimum = true">
                  <span i18n>Age minimum requis</span></button>
                <button type="button"
                  [class]="editSeance.EstAgeMinimum == false ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstAgeMinimum == true ? editSeance.EstAgeMinimum = false : editSeance.EstAgeMinimum = true">
                  <span i18n>Pas de limite</span></button>
              </div>
            </div>
            <div *ngIf="editSeance.EstAgeMinimum == true" class="field field-jecha">
              <label class="label" i18n for="age_minimum">Age minimum :</label>
              <input class="input" min="1" max="99" matInput type="number" id="age_minimum"
                [(ngModel)]="editSeance.AgeMinimum" i18n-placeholder placeholder="Age requis">
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Age maximum ? :</label>
              <div class="buttons has-addons">
                <button type="button"
                  [class]="editSeance.EstAgeMaximum == true ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstAgeMaximum == true ? editSeance.EstAgeMaximum = false : editSeance.EstAgeMaximum = true">
                  <span i18n>Age maximum</span></button>
                <button type="button"
                  [class]="editSeance.EstAgeMaximum == false ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstAgeMaximum == true ? editSeance.EstAgeMaximum = false : editSeance.EstAgeMaximum = true">
                  <span i18n>Pas de limite</span></button>
              </div>
            </div>
            <div class="field" *ngIf="editSeance.EstAgeMaximum == true">
              <label class="label" i18n for="age_maximum">Age maximum :</label>
              <input class="input" min="1" max="99" matInput type="number" id="age_maximum"
                [(ngModel)]="editSeance.AgeMaximum" placeholder="Age maximum">
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Place limitée ? :</label>
              <div class="buttons has-addons">
                <button type="button"
                  [class]="editSeance.EstPlaceMaximum == true ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstPlaceMaximum == true ? editSeance.EstPlaceMaximum = false : editSeance.EstPlaceMaximum = true">
                  <span i18n>Places limitées</span></button>
                <button type="button"
                  [class]="editSeance.EstPlaceMaximum == false ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EstPlaceMaximum == true ? editSeance.EstPlaceMaximum = false : editSeance.EstPlaceMaximum = true">
                  <span i18n>Places illimitées</span></button>
              </div>
            </div>
            <div class="field" *ngIf="editSeance.EstPlaceMaximum == true">
              <label class="label" i18n for="place_maximum">Place maximum :</label>
              <input class="input" type="number" id="place_maximum" min="1" max="999"
                [(ngModel)]="editSeance.PlaceMaximum">
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Convocation nominative ? :</label>
              <div class="buttons has-addons">
                <button type="button"
                  [class]="editSeance.ConvocationNominative == true ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.ConvocationNominative == true ? editSeance.ConvocationNominative = false : editSeance.ConvocationNominative = true">
                  <span i18n>Convocation nominative</span></button>
                <button type="button"
                  [class]="editSeance.ConvocationNominative == false ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.ConvocationNominative == true ? editSeance.ConvocationNominative = false : editSeance.ConvocationNominative = true">
                  <span i18n>Groupe entier convoqué</span></button>
              </div>
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Essai possible ? :</label>
              <div class="buttons has-addons">
                <button type="button"
                  [class]="editSeance.EssaiPossible == true ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EssaiPossible == true ? editSeance.EssaiPossible = false : editSeance.EssaiPossible = true">
                  <span i18n>Essai possible</span></button>
                <button type="button"
                  [class]="editSeance.EssaiPossible == false ? 'button is-link is-active' : 'button is-active'"
                  (click)="editSeance.EssaiPossible == true ? editSeance.EssaiPossible = false : editSeance.EssaiPossible = true">
                  <span i18n>Pas d'essai</span></button>
              </div>
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Groupes :</label>
              <app-groupe-detail *ngIf="editSeance.ConvocationNominative == false" [title]="titre_groupe"
                [Groupes]="editSeance.Groupes" [liste_groupe]="liste_groupe"></app-groupe-detail>
            </div>
            <div class="field">
              <label class="label" i18n for="place_maximum">Info séance : </label>
              <textarea class="textarea" [(ngModel)]="editSeance.InfoSeance"></textarea>
            </div>
          </ng-container>

          <div class="buttons">
            <button class="button is-primary is-rounded is-outlined" [disabled]="!editSeance.valid.control"
              type="button" style="fill:hsl(171, 100%, 41%)" (click)="Save(editSeance)">
              <i class="fa-solid fa-floppy-disk"></i>
            </button>
            <button (click)="VoirMaSeance()" class="button is-info is-rounded is-outlined">
              <i class="fa-solid fa-binoculars"></i>
            </button>
            <button (click)="Refresh()" class="button is-warning is-rounded is-outlined" style="fill:#FFB70F">
              <i class="fa-solid fa-arrows-rotate"></i>
            </button>
            <button (click)="Retour()" class="button is-danger is-rounded is-outlined" style="fill:hsl(348, 100%, 61%)">
              <i class="fa-solid fa-backward-fast"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>