<div class="block" *ngIf="thisCompte && context != 'DEFINIR_MDP'">
    <ng-container *ngIf="thisCompte.id==0">
        <div class="field">
            <label class="label">Login</label>
            <div class="control">
                <input type="email" [class]="IsEmail(thisCompte.login) ? 'input' : 'input is-danger'"
                    [(ngModel)]="thisCompte.login">
                <p class="help is-danger" *ngIf="!IsEmail(thisCompte.login)" i18n>Le login doit être un email
                </p>
            </div>
        </div>
        <hover-button [nomclass]="'button  is-rounded is-primary is-outlined' " *ngIf="IsEmail(thisCompte.login)"
            [nomicon]="'fas fa-check'" [libelle]="'Valider le login'" (click)="Valid()"></hover-button>
        <p *ngIf="login_valide">Login validé : {{login_valide}}</p>

    </ng-container>
    <ng-container *ngIf="thisCompte.id>0">
        <div class="block">
            {{login}}
        </div>
        <div class="block">
            <label i18n>Type Compte : </label>&nbsp;:&nbsp;<span *ngIf="thisCompte.est_password" i18n>Avec mot de
                passe</span><span *ngIf="!thisCompte.est_password" i18n>Avec clé token</span>
        </div>
        <div class="block" *ngIf="(GlobalService.Menu$| async) != 'ADHERENT'">
            <label i18n>Actif</label>&nbsp;:&nbsp;<span *ngIf="thisCompte.actif" i18n>Oui</span><span
                *ngIf="!thisCompte.actif" i18n>Non</span>
        </div>
        <div class="block" *ngIf="(GlobalService.Menu$| async) != 'ADHERENT'">
            <label i18n>Mail actif</label>&nbsp;:&nbsp;<span *ngIf="thisCompte.mail_actif" i18n>Oui</span><span
                *ngIf="!thisCompte.mail_actif" i18n>Non</span>

        </div>
        <div style="display: flex;flex-direction: column;">
            <a *ngIf="!thisCompte.est_password && context == 'VUE'" (click)="RenvoiToken()">Renvoyer les clés de connexion</a>
            <a *ngIf="!thisCompte.est_password && context == 'VUE'" (click)="context = 'DEFINIR_MDP'">Définir un mot de passe</a>
            <a *ngIf="thisCompte.est_password && context == 'VUE'" (click)="context = 'DEFINIR_MDP'">Modifier le mot de passe</a>
            <a *ngIf="context == 'RATTACHER_TOKEN'" (click)="Rattacher()">Rattacher l'adhérent au compte</a>
        </div>
    </ng-container>
</div>
<app-reinit-mdp class="imbrique" [context]="'DEFINE'" *ngIf="context == 'DEFINIR_MDP'" [Login]="thisCompte.login" [Token]="'Gulfed2606'">

</app-reinit-mdp>  
<app-reinit-mdp class="imbrique" [context]="'CONFIRM'" (rattacher)="Rattacher()" (demanderRattachement)="DemanderRattachement()" *ngIf="context == 'RATTACHER_MDP'" [Login]="thisCompte.login" [Token]="'Gulfed2606'">

</app-reinit-mdp> 
<button *ngIf="context == 'DEFINIR_MDP'" (click)="Rattacher()" class="button is-primary is-rounded is-outlined">
   Créer un compte avec Token
 </button>
 <button *ngIf="context == 'DEFINIR_MDP'" (click)="context = 'VUE'" class="button is-danger is-rounded is-outlined" style="fill:hsl(348, 100%, 61%)">
    <i class="fa-solid fa-backward-fast"></i>
  </button>

