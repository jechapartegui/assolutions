<div class="container">
  <ng-container *ngIf="context == 'LISTE'">
    <ng-container *ngIf="loading">
      <progress
        class="progress is-large is-info"
        style="margin-top: 60px"
        max="100"
      >
        60%
      </progress>
      <p>Chargement en cours</p>
    </ng-container>
    <ng-container *ngIf="!loading">
      <span class="fullscreen">
        <div class="columns">
          <div class="column">
            <div class="card">
              <header class="card-header" style="align-items: center">
                <p
                  class="card-header-title"
                  *ngIf="
                    liste_adherents_VM
                      | multifiltersAdherent : filters as filteredApplis
                  "
                >
                  <span i18n>Liste des adhérents</span>&nbsp;({{
                    filteredApplis.length
                  }})&nbsp;-&nbsp;<span i18n>Saison</span>&nbsp;{{
                    getActiveSaison()
                  }}
                </p>
              </header>
              <div class="card-content" #scrollableContent>
                <div class="content">
                  <table
                    class="table"
                    style="width: 100%; font-size: smaller"
                    *ngIf="liste_adherents_VM && liste_adherents_VM.length > 0"
                  >
                    <thead>
                      <tr>
                        <th>
                          <span>
                            <span class="ligne">
                              <span
                                [ngClass]="
                                  filters.filter_nom ? 'has-text-info' : ''
                                "
                                i18n
                                >Nom</span
                              >
                              <span style="cursor: pointer">
                                <i
                                  *ngIf="sort_nom === 'NO'"
                                  (click)="Sort('ASC', 'nom')"
                                  class="fa-solid fa-sort"
                                ></i>
                                <i
                                  *ngIf="sort_nom === 'ASC'"
                                  (click)="Sort('DESC', 'nom')"
                                  class="fa-solid fa-sort-up"
                                ></i>
                                <i
                                  *ngIf="sort_nom === 'DESC'"
                                  (click)="Sort('ASC', 'nom')"
                                  class="fa-solid fa-sort-down"
                                ></i>
                              </span>
                            </span>
                          </span>
                        </th>
                        <th>
                          <span>
                            <span class="ligne">
                              <span
                                [ngClass]="
                                  filters.filter_date_apres ||
                                  filters.filter_date_avant
                                    ? 'has-text-info'
                                    : ''
                                "
                                i18n
                                >Date de naissance</span
                              >
                              <span style="cursor: pointer">
                                <i
                                  *ngIf="sort_date === 'NO'"
                                  (click)="Sort('ASC', 'date')"
                                  class="fa-solid fa-sort"
                                ></i>
                                <i
                                  *ngIf="sort_date === 'ASC'"
                                  (click)="Sort('DESC', 'date')"
                                  class="fa-solid fa-sort-up"
                                ></i>
                                <i
                                  *ngIf="sort_date === 'DESC'"
                                  (click)="Sort('ASC', 'date')"
                                  class="fa-solid fa-sort-down"
                                ></i> </span
                            ></span>
                          </span>
                        </th>
                        <th>
                          <span>
                            <span class="ligne">
                              <span
                                [ngClass]="
                                  filters.filter_sexe ? 'has-text-info' : ''
                                "
                                i18n
                                >Sexe</span
                              ><span style="cursor: pointer">
                                <i
                                  *ngIf="sort_sexe === 'NO'"
                                  (click)="Sort('ASC', 'sexe')"
                                  class="fa-solid fa-sort"
                                ></i>
                                <i
                                  *ngIf="sort_sexe === 'ASC'"
                                  (click)="Sort('DESC', 'sexe')"
                                  class="fa-solid fa-sort-up"
                                ></i>
                                <i
                                  *ngIf="sort_sexe === 'DESC'"
                                  (click)="Sort('ASC', 'sexe')"
                                  class="fa-solid fa-sort-down"
                                ></i>
                              </span>
                            </span>
                          </span>
                        </th>
                        <th>
                          <span>
                            <span
                              [ngClass]="
                                filters.filter_groupe ? 'has-text-info' : ''
                              "
                              i18n
                              >Groupes</span
                            >
                          </span>
                        </th>
                        <th><span i18n>Contact</span></th>
                        <th>
                          <span
                            [ngClass]="
                              filters.filter_inscrit ? 'has-text-info' : ''
                            "
                            i18n
                            >Inscrit</span
                          >
                        </th>
                        <th>
                          <span i18n>Action</span>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="
                          let adherent of liste_adherents_VM
                            | multifiltersAdherent : filters
                        "
                      >
                        <td>
                          {{ adherent.Libelle }}
                        </td>
                        <td>
                          {{ adherent.DDN | date : "dd/MM/yyyy" }}
                          ({{ calculateAge(adherent.DDN) }}&nbsp;<span i18n
                            >ans</span
                          >)
                        </td>
                        <td>
                          <i
                            *ngIf="adherent.Sexe"
                            class="fa-solid fa-mars has-text-info"
                          ></i>
                          <i
                            *ngIf="!adherent.Sexe"
                            class="fa-solid fa-venus has-text-danger"
                          ></i>
                        </td>

                        <td>
                          <div class="tags">
                            <ng-container *ngFor="let gr of adherent.Groupes">
                              <span class="tag is-success">
                                {{ gr.nom }}
                              </span>
                            </ng-container>
                          </div>
                        </td>
                        <td>
                          <span *ngIf="adherent.ContactPrefereType == 'EMAIL'"
                            ><i class="fas fa-at"></i
                          ></span>
                          <span *ngIf="adherent.ContactPrefereType == 'PHONE'"
                            ><i class="fas fa-phone"></i
                          ></span>
                          <span *ngIf="adherent.ContactPrefereType == 'INSTA'"
                            ><i class="fab fa-instagram-square"></i
                          ></span>
                          <span
                            *ngIf="adherent.ContactPrefereType == 'FACEBOOK'"
                            ><i class="fab fa-facebook-square"></i
                          ></span>
                          <span *ngIf="adherent.ContactPrefereType == 'TWITTER'"
                            ><i class="fab fa-twitter-square"></i
                          ></span>
                          <span>&nbsp;{{ adherent.ContactPrefere }}</span>
                        </td>
                        <td>
                          <i *ngIf="!adherent.Inscrit" class="fas fa-times"></i>
                          <i
                            *ngIf="adherent.Inscrit"
                            class="fas fa-check has-text-success"
                          ></i>
                        </td>
                        <td>
                          <div class="buttons" style="flex-wrap: nowrap">
                            <btn
                              i18n-title
                              title="Supprimer"
                              [type_button]="'SupprimerLight'"
                              *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                              (click)="Delete(adherent)"
                            ></btn>
                            <btn
                              *ngIf="
                                !adherent.Inscrit &&
                                adherent.CompteID > 0 &&
                                adherent.valid.control
                              "
                              i18n-title
                              title="Inscrire"
                              [type_button]="'InscrireLight'"
                              (click)="
                                Register(adherent, active_saison.id, false)
                              "
                            ></btn>
                            <btn
                              i18n-title
                              title="Voir"
                              [type_button]="'VoirLight'"
                              (click)="Read(adherent)"
                            ></btn>
                            <btn
                              i18n-title
                              title="Editer"
                              [type_button]="'EditerLight'"
                              (click)="Edit(adherent)"
                            ></btn>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <p
                    *ngIf="
                      !liste_adherents_VM || liste_adherents_VM.length == 0
                    "
                    i18n
                  >
                    Pas d'adhérents disponible
                  </p>
                  <button
                    class="scroll-to-top"
                    *ngIf="showScrollToTop"
                    (click)="scrollToTop()"
                    title="Revenir en haut"
                  >
                    ↑
                  </button>
                </div>
              </div>
              <footer class="card-footer">
                <div class="columns">
                  <div class="column">
                    <div *ngIf="!afficher_filtre" class="buttons">
                      <btn
                        *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                        [type_button]="'CreerSmall'"
                        (click)="Create()"
                      ></btn>
                      <btn
                        [type_button]="'FiltrerSmall'"
                        (click)="
                          afficher_filtre
                            ? (afficher_filtre = false)
                            : (afficher_filtre = true)
                        "
                      ></btn>
                      <btn
                        [type_button]="'ExporterSmall'"
                        (click)="ExportExcel()"
                      ></btn>
                      <btn
                        [type_button]="'ImporterSmall'"
                        (click)="GotoImport()"
                      ></btn>
                      <div class="field is-horizontal">
                        <div class="field-label is-normal is-two-quarter">
                          <label class="label" style="white-space: nowrap" i18n
                            >Saison affichée</label
                          >
                        </div>
                        <div class="field-body">
                          <div class="field is-narrow">
                            <div class="control">
                              <div class="select is-fullwidth">
                                <select
                                  [(ngModel)]="active_saison"
                                  (ngModelChange)="UpdateListeAdherents()"
                                >
                                  <ng-container
                                    *ngFor="let saison of liste_saison"
                                  >
                                    <option [ngValue]="saison">
                                      {{ saison.nom }}
                                    </option>
                                  </ng-container>
                                </select>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="buttons" *ngIf="afficher_filtre">
                      <btn
                        (click)="
                          afficher_filtre = false; selected_filter = null
                        "
                        [type_button]="'RetourLight'"
                      ></btn>
                      <div
                        class="field is-horizontal"
                        style="gap: 0.5rem; align-items: center"
                      >
                        <div class="field-label is-normal">
                          <label class="label" style="white-space: nowrap" i18n
                            >Sélection du filtre</label
                          >
                        </div>
                        <div class="field-body">
                          <div class="field is-narrow">
                            <div class="control">
                              <div
                                class="select is-fullwidth ; font-size: smaller"
                              >
                                <select [(ngModel)]="selected_filter">
                                  <option value="nom" i18n>Nom</option>
                                  <option value="date" i18n>
                                    Date de naissance
                                  </option>
                                  <option value="groupe" i18n>Groupe</option>
                                  <option value="sexe" i18n>Sexe</option>
                                  <option value="inscrit" i18n>Inscrit</option>
                                </select>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          *ngIf="selected_filter"
                          class="field-label is-normal"
                        >
                          <label class="label" style="white-space: nowrap" i18n
                            >Valeur du filtre
                          </label>
                        </div>
                        <div class="field-body" *ngIf="selected_filter">
                          <div class="field is-narrow">
                            <div class="control">
                              <input
                                *ngIf="selected_filter == 'nom'"
                                style="width: fit-content; font-size: smaller"
                                class="input is-small"
                                i18n-placeholder
                                placeholder="Nom du cours"
                                type="text"
                                [(ngModel)]="filters.filter_nom"
                              />
                              <div
                                class="select"
                                *ngIf="selected_filter == 'sexe'"
                              >
                                <select
                                  style="font-size: smaller"
                                  [(ngModel)]="filters.filter_sexe"
                                >
                                  <option [ngValue]="null" i18n>Tous</option>
                                  <option [ngValue]="false" i18n>Femme</option>
                                  <option [ngValue]="true" i18n>Homme</option>
                                </select>
                              </div>
                              <div
                                class="select"
                                *ngIf="selected_filter == 'groupe'"
                              >
                                <select
                                  style="font-size: smaller"
                                  [(ngModel)]="filters.filter_groupe"
                                >
                                  <option [ngValue]="null" i18n>Tous</option>
                                  <ng-container
                                    *ngFor="let group of liste_groupe_filter"
                                  >
                                    <option [ngValue]="group.nom">
                                      {{ group.nom }}
                                    </option>
                                  </ng-container>
                                </select>
                              </div>
                              <div
                                class="select"
                                *ngIf="selected_filter == 'inscrit'"
                              >
                                <select
                                  style="font-size: smaller"
                                  [(ngModel)]="filters.filter_inscrit"
                                >
                                  <option [ngValue]="null" i18n>Tous</option>
                                  <option [ngValue]="false" i18n>Non</option>
                                  <option [ngValue]="true" i18n>Oui</option>
                                </select>
                              </div>
                              <span
                                *ngIf="selected_filter == 'date'"
                                class="ligne"
                              >
                                <div
                                  style="gap: 6px"
                                  class="field is-small is-horizontal field-jecha"
                                >
                                  <label
                                    for="groupe"
                                    class="label is-small"
                                    i18n
                                    >Du</label
                                  >
                                  <input
                                    style="width: fit-content"
                                    class="input is-small"
                                    i18n-placeholder
                                    placeholder="Filtre date avant"
                                    type="date"
                                    [(ngModel)]="filters.filter_date_apres"
                                  />
                                </div>
                              </span>
                              <span
                                *ngIf="selected_filter == 'date'"
                                class="ligne"
                              >
                                <div
                                  style="gap: 6px"
                                  class="field is-small is-horizontal field-jecha"
                                >
                                  <label
                                    for="groupe"
                                    class="label is-small"
                                    i18n
                                    >Au</label
                                  >
                                  <input
                                    style="width: fit-content"
                                    class="input is-small"
                                    i18n-placeholder
                                    placeholder="Filtre date après"
                                    type="date"
                                    [(ngModel)]="filters.filter_date_avant"
                                  />
                                </div>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="tags">
                          <span
                            *ngIf="filters.filter_nom"
                            class="tag is-success"
                          >
                            <span i18n>Nom : </span>
                            <span>{{ filters.filter_nom }}</span>
                            <button
                              class="delete"
                              (click)="filters.filter_nom = null"
                            ></button>
                          </span>

                          <span
                            *ngIf="filters.filter_inscrit != null"
                            class="tag is-success"
                          >
                            <span i18n>Inscrits : </span>
                            <span *ngIf="filters.filter_inscrit == true" i18n
                              >Oui</span
                            >
                            <span *ngIf="filters.filter_inscrit == false" i18n
                              >Non</span
                            >
                            <button
                              class="delete"
                              (click)="filters.filter_inscrit = null"
                            ></button>
                          </span>

                          <span
                            *ngIf="
                              filters.filter_date_avant ||
                              filters.filter_date_apres
                            "
                            class="tag is-success"
                          >
                            <span i18n>Date de naissance : </span>
                            <span *ngIf="filters.filter_date_avant"
                              >&nbsp;>&nbsp;{{
                                filters.filter_date_avant
                              }}</span
                            >
                            <span *ngIf="filters.filter_date_apres"
                              >&nbsp;<&nbsp;{{
                                filters.filter_date_apres
                              }}</span
                            >
                            <button
                              class="delete"
                              (click)="
                                filters.filter_date_avant = null;
                                filters.filter_date_apres = null
                              "
                            ></button>
                          </span>

                          <span
                            *ngIf="filters.filter_sexe != null"
                            class="tag is-success"
                          >
                            <span i18n>Sexe : </span>
                            <span *ngIf="filters.filter_sexe == true" i18n
                              >Homme</span
                            >
                            <span *ngIf="filters.filter_sexe == false" i18n
                              >Femme</span
                            >
                            <button
                              class="delete"
                              (click)="filters.filter_sexe = null"
                            ></button>
                          </span>
                          <span
                            *ngIf="filters.filter_groupe != null"
                            class="tag is-success"
                          >
                            <span i18n>Groupe : </span>
                            <span i18n>{{ filters.filter_groupe }}</span>
                            <button
                              class="delete"
                              (click)="filters.filter_groupe = null"
                            ></button>
                          </span>
                          <btn
                            [type_button]="'SupprimerLight'"
                            (click)="ReinitFiltre()"
                            *ngIf="
                              filters.filter_date_apres ||
                              filters.filter_date_avant ||
                              filters.filter_groupe ||
                              filters.filter_inscrit ||
                              filters.filter_nom ||
                              filters.filter_sexe
                            "
                          >
                          </btn>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </footer>
            </div>
          </div>
        </div>
      </span>

      <span class="mobile">
        <ng-container *ngIf="afficher_filtre">
          <nav class="navbar is-fixed-top">
            <btn
              [type_button]="'RetourMobile'"
              (click)="afficher_filtre = false; selected_filter = null"
            ></btn>
          </nav>
          <span class="container-box">
            <div class="field" style="gap: 0.5rem; align-items: center">
              <div class="field-label is-normal">
                <label class="label" style="white-space: nowrap" i18n
                  >Sélection du filtre</label
                >
              </div>
              <div class="field-body">
                <div class="field is-narrow">
                  <div class="control">
                    <div class="select is-fullwidth ; font-size: smaller">
                      <select [(ngModel)]="selected_filter">
                        <option value="nom" i18n>Nom</option>
                        <option value="date" i18n>Date de naissance</option>
                        <option value="groupe" i18n>Groupe</option>
                        <option value="sexe" i18n>Sexe</option>
                        <option value="inscrit" i18n>Inscrit</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="selected_filter" class="field-label is-normal">
                <label class="label" style="white-space: nowrap" i18n
                  >Valeur du filtre
                </label>
              </div>
              <div class="field-body" *ngIf="selected_filter">
                <div class="field is-narrow">
                  <div class="control">
                    <input
                      *ngIf="selected_filter == 'nom'"
                      style="width: fit-content; font-size: smaller"
                      class="input is-small"
                      i18n-placeholder
                      placeholder="Nom du cours"
                      type="text"
                      [(ngModel)]="filters.filter_nom"
                    />
                    <div class="select" *ngIf="selected_filter == 'sexe'">
                      <select
                        style="font-size: smaller"
                        [(ngModel)]="filters.filter_sexe"
                      >
                        <option [ngValue]="null" i18n>Tous</option>
                        <option [ngValue]="false" i18n>Femme</option>
                        <option [ngValue]="true" i18n>Homme</option>
                      </select>
                    </div>
                    <div class="select" *ngIf="selected_filter == 'groupe'">
                      <select
                        style="font-size: smaller"
                        [(ngModel)]="filters.filter_groupe"
                      >
                        <option [ngValue]="null" i18n>Tous</option>
                        <ng-container *ngFor="let group of liste_groupe_filter">
                          <option [ngValue]="group.nom">
                            {{ group.nom }}
                          </option>
                        </ng-container>
                      </select>
                    </div>
                    <div class="select" *ngIf="selected_filter == 'inscrit'">
                      <select
                        style="font-size: smaller"
                        [(ngModel)]="filters.filter_inscrit"
                      >
                        <option [ngValue]="null" i18n>Tous</option>
                        <option [ngValue]="false" i18n>Non</option>
                        <option [ngValue]="true" i18n>Oui</option>
                      </select>
                    </div>
                    <span *ngIf="selected_filter == 'date'" class="ligne">
                      <div
                        style="gap: 6px"
                        class="field is-small is-horizontal field-jecha"
                      >
                        <label for="groupe" class="label is-small" i18n
                          >Du</label
                        >
                        <input
                          style="width: fit-content"
                          class="input is-small"
                          i18n-placeholder
                          placeholder="Filtre date avant"
                          type="date"
                          [(ngModel)]="filters.filter_date_apres"
                        />
                      </div>
                    </span>
                    <span *ngIf="selected_filter == 'date'" class="ligne">
                      <div
                        style="gap: 6px"
                        class="field is-small is-horizontal field-jecha"
                      >
                        <label for="groupe" class="label is-small" i18n
                          >Au</label
                        >
                        <input
                          style="width: fit-content"
                          class="input is-small"
                          i18n-placeholder
                          placeholder="Filtre date après"
                          type="date"
                          [(ngModel)]="filters.filter_date_avant"
                        />
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="tags">
                <span
                  *ngIf="filters.filter_nom"
                  class="tag is-large is-success"
                >
                  <span i18n>Nom : </span>
                  <span>{{ filters.filter_nom }}</span>
                  <button
                    class="delete"
                    (click)="filters.filter_nom = null"
                  ></button>
                </span>

                <span
                  *ngIf="filters.filter_inscrit != null"
                  class="tag is-large is-success"
                >
                  <span i18n>Inscrits : </span>
                  <span *ngIf="filters.filter_inscrit == true" i18n>Oui</span>
                  <span *ngIf="filters.filter_inscrit == false" i18n>Non</span>
                  <button
                    class="delete"
                    (click)="filters.filter_inscrit = null"
                  ></button>
                </span>

                <span
                  *ngIf="filters.filter_date_avant || filters.filter_date_apres"
                  class="tag is-large is-success"
                >
                  <span i18n>Date de naissance : </span>
                  <span *ngIf="filters.filter_date_avant"
                    >&nbsp;>&nbsp;{{ filters.filter_date_avant }}</span
                  >
                  <span *ngIf="filters.filter_date_apres"
                    >&nbsp;<&nbsp;{{ filters.filter_date_apres }}</span
                  >
                  <button
                    class="delete"
                    (click)="
                      filters.filter_date_avant = null;
                      filters.filter_date_apres = null
                    "
                  ></button>
                </span>

                <span
                  *ngIf="filters.filter_sexe != null"
                  class="tag is-large is-success"
                >
                  <span i18n>Sexe : </span>
                  <span *ngIf="filters.filter_sexe == true" i18n>Homme</span>
                  <span *ngIf="filters.filter_sexe == false" i18n>Femme</span>
                  <button
                    class="delete"
                    (click)="filters.filter_sexe = null"
                  ></button>
                </span>
                <span
                  *ngIf="filters.filter_groupe != null"
                  class="tag is-large is-success"
                >
                  <span i18n>Groupe : </span>
                  <span i18n>{{ filters.filter_groupe }}</span>
                  <button
                    class="delete"
                    (click)="filters.filter_groupe = null"
                  ></button>
                </span>
                <btn
                  [type_button]="'SupprimerMobile'"
                  (click)="ReinitFiltre()"
                  *ngIf="
                    filters.filter_date_apres ||
                    filters.filter_date_avant ||
                    filters.filter_groupe ||
                    filters.filter_inscrit ||
                    filters.filter_nom ||
                    filters.filter_sexe
                  "
                >
                </btn>
              </div>
            </div>
          </span>
        </ng-container>
        <ng-container *ngIf="afficher_tri">
          <nav class="navbar is-fixed-top">
            <btn
              [type_button]="'RetourMobile'"
              (click)="afficher_tri = false"
            ></btn>
          </nav>
          <span class="container-box">
            <div class="field">
              <div class="field-label is-normal">
                <label class="label" style="white-space: nowrap" i18n
                  >Sélection du tri</label
                >
              </div>
              <div class="field-body">
                <div class="field is-narrow">
                  <div class="control">
                    <div class="select is-fullwidth ; font-size: smaller">
                      <select [(ngModel)]="selected_sort">
                        <option value="nom" i18n>Nom</option>
                        <option value="date" i18n>Date de naissance</option>
                        <option value="sexe" i18n>Sexe</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="field-label is-normal" *ngIf="selected_sort">
                <label class="label" style="white-space: nowrap" i18n
                  >Sens du tri
                </label>
              </div>
              <div class="field-body" *ngIf="selected_sort">
                <div class="field is-narrow">
                  <div class="control">
                    <div class="select is-fullwidth ; font-size: smaller">
                      <select
                        (ngModelChange)="Sort($event, selected_sort)"
                        [(ngModel)]="selected_sort_sens"
                      >
                        <option value="asc" i18n>Croissant</option>
                        <option value="desc" i18n>Décroissant</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </span>
        </ng-container>
        <ng-container *ngIf="!afficher_tri && !afficher_filtre">
          <nav class="navbar is-fixed-top">
            <btn
              [type_button]="'FiltrerMobile'"
              (click)="afficher_filtre = true"
            ></btn>
            <btn
              [type_button]="'TrierMobile'"
              (click)="afficher_tri = true"
            ></btn>
            <btn
              *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
              [type_button]="'CreerMobile'"
              (click)="Create()"
            ></btn>
          </nav>
          <ng-container
            *ngFor="
              let adherent of liste_adherents_VM
                | multifiltersAdherent : filters
            "
          >
            <div class="container-box">
              <article class="media">
                <div class="media-content">
                  <span class="title" (click)="Edit(adherent)"
                    ><strong>{{ adherent.Libelle }}</strong></span
                  >
                  <div>
                    {{ adherent.DDN | date : "dd/MM/yyyy" }}&nbsp;{{
                      calculateAge(adherent.DDN)
                    }}
                  </div>
                </div>
              </article>
            </div>
          </ng-container>
        </ng-container>
      </span>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="context == 'ECRITURE'">
    <ng-container *ngIf="thisAdherent">
      <span class="fullscreen">
        <div class="columns">
          <div class="column">
            <div class="card" *ngIf="thisAdherent">
              <header class="card-header" style="align-items: center">
                <p class="card-header-title" *ngIf="thisAdherent.ID == 0" i18n>
                  Créer un adhérent
                </p>
                <p class="card-header-title" *ngIf="thisAdherent.ID > 0" i18n>
                  Editer un adhérent
                </p>
              </header>
              <div class="card-content" #scrollableContent>
                <div class="content">
                  <div class="field-container">
                    <div class="field">
                      <label class="label" i18n>Nom</label>
                      <div class="control">
                        <input
                          [class]="
                            thisAdherent.valid.libelle
                              ? 'input'
                              : 'input is-danger'
                          "
                          type="text"
                          id="nom_rider"
                          name="nom_rider"
                          i18n-placeholder
                          placeholder="Nom"
                          [(ngModel)]="thisAdherent.Nom"
                        />
                      </div>
                    </div>
                    <div class="field">
                      <label class="label" i18n>Prénom</label>
                      <div class="control">
                        <input
                          [class]="
                            thisAdherent.valid.libelle
                              ? 'input'
                              : 'input is-danger'
                          "
                          type="text"
                          id="prenom_rider"
                          name="prenom_rider"
                          i18n-placeholder
                          placeholder="Prénom"
                          [(ngModel)]="thisAdherent.Prenom"
                        />
                      </div>
                    </div>
                    <div class="field">
                      <label class="label" i18n>Surnom</label>
                      <div class="control">
                        <input
                          [class]="
                            thisAdherent.valid.libelle
                              ? 'input'
                              : 'input is-danger'
                          "
                          type="text"
                          id="surnom_rider"
                          name="surnom_rider"
                          i18n-placeholder
                          placeholder="Surnom"
                          [(ngModel)]="thisAdherent.Surnom"
                        />
                      </div>
                    </div>
                    <p
                      class="help is-danger"
                      *ngIf="!thisAdherent.valid.libelle"
                      i18n
                    >
                      L'ensemble Prénom / Nom / Surnom doit contenir au moins 2
                      caractères
                    </p>
                  </div>
                  <div class="field-container">
                    <div class="field">
                      <label class="label" i18n>Date de naissance</label>
                      <div class="control">
                        <input
                          [class]="
                            thisAdherent.valid.date_naissance
                              ? 'input'
                              : 'input is-danger'
                          "
                          type="date"
                          id="date_naissance"
                          name="date_naissance"
                          i18n-placeholder
                          placeholder="Date de naissance"
                          [(ngModel)]="thisAdherent.DDN"
                        />
                        <p
                          class="help is-danger"
                          *ngIf="!thisAdherent.valid.date_naissance"
                          i18n
                        >
                          La date de naissance doit être saisie
                        </p>
                      </div>
                    </div>
                    <div class="field">
                      <label class="label" i18n>Sexe :</label>
                      <div class="buttons has-addons is-centered">
                        <button
                          type="button"
                          style="font-size: small"
                          [class]="
                            thisAdherent.Sexe == true
                              ? 'button is-link is-active'
                              : 'button is-active'
                          "
                          (click)="
                            thisAdherent.Sexe == true
                              ? (thisAdherent.Sexe = false)
                              : (thisAdherent.Sexe = true)
                          "
                        >
                          <span i18n>Homme</span>
                        </button>
                        <button
                          type="button"
                          style="font-size: small"
                          [class]="
                            thisAdherent.Sexe == false
                              ? 'button is-link is-active'
                              : 'button is-active'
                          "
                          (click)="
                            thisAdherent.Sexe == true
                              ? (thisAdherent.Sexe = false)
                              : (thisAdherent.Sexe = true)
                          "
                        >
                          <span i18n>Femme</span>
                        </button>
                      </div>
                    </div>
                    <div
                      class="field"
                      *ngIf="
                        (GlobalService.Menu$ | async) === 'ADMIN' ||
                        (GlobalService.Menu$ | async) === 'PROF'
                      "
                    >
                      <label class="label" i18n>Groupes</label>
                      <div class="tags">
                        <ng-container *ngFor="let gr of thisAdherent.Groupes">
                          <span class="tag is-success">
                            {{ gr.nom }}
                          </span>
                        </ng-container>
                      </div>
                    </div>
                  </div>

                  <div class="field-container">
                    <div class="columns">
                      <!-- Contacts -->
                      <div class="column is-6">
                        <div class="field">
                          <app-contact-item
                            [valid_mail]="valid_mail"
                            [valid_tel]="valid_tel"
                            [Notes]="'Notes'"
                            [Titre]="'Contacts : '"
                            [Contacts]="thisAdherent.Contacts"
                            (validMailChange)="onValidMailChange($event)"
                            (validTelChange)="onValidTelChange($event)"
                            (validContactChange)="onValidContactChange($event)"
                          ></app-contact-item>
                          <p class="help is-danger" *ngIf="!valid_mail" i18n>
                            Au moins un mail doit être saisi
                          </p>
                          <p class="help is-danger" *ngIf="!valid_tel" i18n>
                            Au moins un téléphone doit être saisi
                          </p>
                        </div>
                      </div>
                      <div class="column is-6">
                        <app-contact-item
                          [Notes]="'Relation'"
                          [Titre]="'Contact à prévenir : '"
                          [Contacts]="thisAdherent.ContactsUrgence"
                          (validContactChange)="
                            onValidContactUrgenceChange($event)
                          "
                        >
                        </app-contact-item>
                      </div>
                    </div>
                  </div>
                  <div class="field-container">
                    <div class="columns">
                      <!-- Adresse -->
                      <div class="column is-6">
                        <div class="field">
                          <label class="label" i18n>Adresse :</label>
                          <app-address
                            [valid_address]="valid_address"
                            [Adresse]="thisAdherent.Adresse"
                            (validAdresseChange)="onValidAdresseChange($event)"
                            (AdresseChange)="onAdresseChange($event)"
                          ></app-address>
                          <p class="help is-danger" *ngIf="!valid_address" i18n>
                            L'adresse doit être saisie (voie, code postal et
                            ville)
                          </p>
                        </div>
                      </div>

                      <div class="column is-6">
                        <ng-container *ngIf="thisAdherent.ID > 0">
                          <div
                            *ngIf="
                              (GlobalService.Menu$ | async) === 'ADMIN' ||
                              (GlobalService.Menu$ | async) === 'PROF'
                            "
                            class="field"
                          >
                            <label class="label" i18n for="place_maximum"
                              >Compte :
                            </label>
                            <div class="box">
                              <span
                                *ngIf="thisAdherent.CompteID == 0"
                                class="tag is-warning"
                              >
                                <i class="fas fa-exclamation-triangle"></i>
                                <span i18n
                                  >Un compte doit être associé pour inscrire la
                                  personne</span
                                >
                              </span>
                              <app-compte-detail
                                (changeRattacher)="Rattacher($event)"
                                (demRattachement)="DemanderRattachement($event)"
                                [login]="thisAdherent.Login"
                                [compte_id]="thisAdherent.CompteID"
                              ></app-compte-detail>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <footer class="card-footer">
                <div class="columns">
                  <div class="column">
                    <div *ngIf="!afficher_filtre" class="buttons">
                      <btn
                        [type_button]="'SauvegarderSmall'"
                        [disabled]="
                          !thisAdherent.valid.control ||
                          !this.valid_address ||
                          !this.valid_mail ||
                          !this.valid_tel
                        "
                        (click)="Save()"
                      ></btn>

                      <btn
                        *ngIf="
                          (GlobalService.Menu$ | async) === 'ADMIN' ||
                          (GlobalService.Menu$ | async) === 'PROF'
                        "
                        [type_button]="'RetourSmall'"
                        (click)="Retour('LISTE')"
                      ></btn>
                      <btn
                        [type_button]="'ReloadSmall'"
                        (click)="ChargerAdherent()"
                      ></btn>
                      <btn
                        *ngIf="thisAdherent.ID > 0"
                        [type_button]="'VoirSmall'"
                        (click)="Retour('LECTURE')"
                      ></btn>

                      <!-- <div class="dropdown is-up" [class.is-active]="dropdownActive">
            <div class="dropdown-trigger">
              <button
                class="button is-small"
                aria-haspopup="true"
                aria-controls="dropdown-menu"
                (click)="toggleDropdown()"
              >
                <span>Actions</span>
                <span class="icon is-small">
                  <span aria-hidden="true">▼</span>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a class="dropdown-item" (click)="handleAction('action1')">Action 1</a>
                <a class="dropdown-item" (click)="handleAction('action2')">Action 2</a>
                <a class="dropdown-item" (click)="handleAction('action3')">Action 3</a>
              </div>
            </div>
          </div> -->
                    </div>
                  </div>
                </div>
              </footer>
            </div>
          </div>
        </div>
      </span>
      <span class="mobile">
        <nav class="navbar is-fixed-top">
          <btn
            [type_button]="'SauvegarderMobile'"
            [disabled]="
              !thisAdherent.valid.control ||
              !this.valid_address ||
              !this.valid_mail ||
              !this.valid_tel
            "
            (click)="Save()"
          ></btn>

          <btn
            *ngIf="
              (GlobalService.Menu$ | async) === 'ADMIN' ||
              (GlobalService.Menu$ | async) === 'PROF'
            "
            [type_button]="'RetourMobile'"
            (click)="Retour('LISTE')"
          ></btn>
          <btn [type_button]="'ReloadMobile'" (click)="ChargerAdherent()"></btn>
          <btn
            *ngIf="thisAdherent.ID > 0"
            [type_button]="'VoirMobile'"
            (click)="Retour('LECTURE')"
          ></btn>
        </nav>
        <div class="container-box">
          <div class="field-container">
            <div class="field">
              <label class="label" i18n>Nom</label>
              <div class="control">
                <input
                  [class]="
                    thisAdherent.valid.libelle ? 'input' : 'input is-danger'
                  "
                  type="text"
                  id="nom_rider"
                  name="nom_rider"
                  i18n-placeholder
                  placeholder="Nom"
                  [(ngModel)]="thisAdherent.Nom"
                />
              </div>
            </div>
            <div class="field">
              <label class="label" i18n>Prénom</label>
              <div class="control">
                <input
                  [class]="
                    thisAdherent.valid.libelle ? 'input' : 'input is-danger'
                  "
                  type="text"
                  id="prenom_rider"
                  name="prenom_rider"
                  i18n-placeholder
                  placeholder="Prénom"
                  [(ngModel)]="thisAdherent.Prenom"
                />
              </div>
            </div>
            <div class="field">
              <label class="label" i18n>Surnom</label>
              <div class="control">
                <input
                  [class]="
                    thisAdherent.valid.libelle ? 'input' : 'input is-danger'
                  "
                  type="text"
                  id="surnom_rider"
                  name="surnom_rider"
                  i18n-placeholder
                  placeholder="Surnom"
                  [(ngModel)]="thisAdherent.Surnom"
                />
              </div>
            </div>
            <p class="help is-danger" *ngIf="!thisAdherent.valid.libelle" i18n>
              L'ensemble Prénom / Nom / Surnom doit contenir au moins 2
              caractères
            </p>
          </div>
          <div class="field-container">
            <div class="field">
              <label class="label" i18n>Date de naissance</label>
              <div class="control">
                <input
                  [class]="
                    thisAdherent.valid.date_naissance
                      ? 'input'
                      : 'input is-danger'
                  "
                  type="date"
                  id="date_naissance"
                  name="date_naissance"
                  i18n-placeholder
                  placeholder="Date de naissance"
                  [(ngModel)]="thisAdherent.DDN"
                />
                <p
                  class="help is-danger"
                  *ngIf="!thisAdherent.valid.date_naissance"
                  i18n
                >
                  La date de naissance doit être saisie
                </p>
              </div>
            </div>
            <div class="field">
              <label class="label" i18n>Sexe :</label>
              <div class="buttons has-addons is-centered">
                <button
                  type="button"
                  [class]="
                    thisAdherent.Sexe == true
                      ? 'button is-link is-active'
                      : 'button is-active'
                  "
                  (click)="
                    thisAdherent.Sexe == true
                      ? (thisAdherent.Sexe = false)
                      : (thisAdherent.Sexe = true)
                  "
                >
                  <span i18n>Homme</span>
                </button>
                <button
                  type="button"
                  [class]="
                    thisAdherent.Sexe == false
                      ? 'button is-link is-active'
                      : 'button is-active'
                  "
                  (click)="
                    thisAdherent.Sexe == true
                      ? (thisAdherent.Sexe = false)
                      : (thisAdherent.Sexe = true)
                  "
                >
                  <span i18n>Femme</span>
                </button>
              </div>
            </div>
            <div
              class="field"
              *ngIf="
                (GlobalService.Menu$ | async) === 'ADMIN' ||
                (GlobalService.Menu$ | async) === 'PROF'
              "
            >
              <label class="label" i18n>Groupes</label>
              <div class="tags">
                <ng-container *ngFor="let gr of thisAdherent.Groupes">
                  <span class="tag is-success is-large">
                    {{ gr.nom }}
                  </span>
                </ng-container>
              </div>
            </div>
          </div>

          <div class="field-container">
            <div class="columns">
              <!-- Contacts -->
              <div class="column is-6">
                <div class="field">
                  <app-contact-item
                    [valid_mail]="valid_mail"
                    [valid_tel]="valid_tel"
                    [Notes]="'Notes'"
                    [Titre]="'Contacts : '"
                    [Contacts]="thisAdherent.Contacts"
                    (validMailChange)="onValidMailChange($event)"
                    (validTelChange)="onValidTelChange($event)"
                    (validContactChange)="onValidContactChange($event)"
                  ></app-contact-item>
                  <p class="help is-danger" *ngIf="!valid_mail" i18n>
                    Au moins un mail doit être saisi
                  </p>
                  <p class="help is-danger" *ngIf="!valid_tel" i18n>
                    Au moins un téléphone doit être saisi
                  </p>
                </div>
              </div>
              <div class="column is-6">
                <app-contact-item
                  [Notes]="'Relation'"
                  [Titre]="'Contact à prévenir : '"
                  [Contacts]="thisAdherent.ContactsUrgence"
                  (validContactChange)="onValidContactUrgenceChange($event)"
                >
                </app-contact-item>
              </div>
            </div>
          </div>
          <div class="field-container">
            <div class="columns">
              <!-- Adresse -->
              <div class="column is-6">
                <div class="field">
                  <label class="label" i18n>Adresse :</label>
                  <app-address
                    [valid_address]="valid_address"
                    [Adresse]="thisAdherent.Adresse"
                    (validAdresseChange)="onValidAdresseChange($event)"
                    (AdresseChange)="onAdresseChange($event)"
                  ></app-address>
                  <p class="help is-danger" *ngIf="!valid_address" i18n>
                    L'adresse doit être saisie (voie, code postal et ville)
                  </p>
                </div>
              </div>

              <div class="column is-6">
                <ng-container *ngIf="thisAdherent.ID > 0">
                  <div
                    *ngIf="
                      (GlobalService.Menu$ | async) === 'ADMIN' ||
                      (GlobalService.Menu$ | async) === 'PROF'
                    "
                    class="field"
                  >
                    <label class="label" i18n for="place_maximum"
                      >Compte :
                    </label>
                    <div class="box">
                      <span
                        *ngIf="thisAdherent.CompteID == 0"
                        class="tag is-warning"
                      >
                        <i class="fas fa-exclamation-triangle"></i>
                        <span i18n
                          >Un compte doit être associé pour inscrire la
                          personne</span
                        >
                      </span>
                      <app-compte-detail
                        (changeRattacher)="Rattacher($event)"
                        (demRattachement)="DemanderRattachement($event)"
                        [login]="thisAdherent.Login"
                        [compte_id]="thisAdherent.CompteID"
                      ></app-compte-detail>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </span>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="context == 'LECTURE'">
    <ng-container *ngIf="thisAdherent">
      <span class="fullscreen">
        <div class="columns">
          <div class="column">
            <div class="card">
              <header class="card-header" style="align-items: center">
                <p class="card-header-title">{{ thisAdherent.Libelle }}</p>
              </header>
              <div class="card-content" #scrollableContent>
                <div class="content">
                  <div class="field-container">
                    <div class="field">
                      <label class="label" i18n>Date de naissance (Age)</label>
                      <div>
                        {{ thisAdherent.DDN | date : "dd/MM/yyyy" }}&nbsp;({{
                          calculateAge(thisAdherent.DDN)
                        }}&nbsp;<span i18n>ans</span>)
                      </div>
                    </div>
                    <div class="field">
                      <label class="label" i18n>Sexe</label>
                      <i
                        *ngIf="thisAdherent.Sexe"
                        class="fa-solid fa-mars has-text-info"
                      ></i>
                      <i
                        *ngIf="!thisAdherent.Sexe"
                        class="fa-solid fa-venus has-text-danger"
                      ></i>
                    </div>
                  </div>
                  <div class="field-container">
                    <div class="field">
                      <label class="label" i18n>Contacts</label>
                      <ng-container *ngFor="let cont of thisAdherent.Contacts">
                        <span *ngIf="cont.Type == 'EMAIL'"
                          ><i class="fas fa-at"></i
                        ></span>
                        <span *ngIf="cont.Type == 'PHONE'"
                          ><i class="fas fa-phone"></i
                        ></span>
                        <span *ngIf="cont.Type == 'INSTA'"
                          ><i class="fab fa-instagram-square"></i
                        ></span>
                        <span *ngIf="cont.Type == 'FACEBOOK'"
                          ><i class="fab fa-facebook-square"></i
                        ></span>
                        <span *ngIf="cont.Type == 'TWITTER'"
                          ><i class="fab fa-twitter-square"></i
                        ></span>
                        <span>&nbsp;{{ cont.Value }}</span>
                        <br />
                      </ng-container>
                    </div>
                    <div class="field">
                      <label class="label" i18n
                        >Contacts en cas d'urgence</label
                      >
                      <ng-container
                        *ngFor="let cont of thisAdherent.ContactsUrgence"
                      >
                        <span *ngIf="cont.Type"><i class="fas fa-at"></i></span>
                        <span *ngIf="cont.Type == 'PHONE'"
                          ><i class="fas fa-phone"></i
                        ></span>
                        <span *ngIf="cont.Type == 'INSTA'"
                          ><i class="fab fa-instagram-square"></i
                        ></span>
                        <span *ngIf="cont.Type == 'FACEBOOK'"
                          ><i class="fab fa-facebook-square"></i
                        ></span>
                        <span *ngIf="cont.Type == 'TWITTER'"
                          ><i class="fab fa-twitter-square"></i
                        ></span>
                        <span>&nbsp;{{ cont.Value }} - {{ cont.Notes }}</span>
                        <br />
                      </ng-container>
                    </div>
                  </div>
                  <div
                    class="field-container"
                    *ngIf="
                      (GlobalService.Menu$ | async) === 'ADMIN' ||
                      (GlobalService.Menu$ | async) === 'PROF'
                    "
                  >
                    <div class="field">
                      <label class="label" i18n for="place_maximum"
                        >Groupes :</label
                      >
                      <app-groupe-detail
                        (groupesUpdated)="onGroupesUpdated($event)"
                        [id_source]="thisAdherent.ID"
                        [objet_source]="'rider'"
                        [title]="titre_groupe"
                        [Groupes]="thisAdherent.Groupes"
                        [liste_groupe]="liste_groupe"
                      ></app-groupe-detail>
                    </div>

                    <div class="field">
                      <label class="label" i18n>Inscriptions</label>
                       

                        <table class="table is-small" *ngIf="thisAdherent.Adhesions">
                          <thead>
                            <th>Saison</th>
                            <th>Inscrit</th>
                            <th
                              *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                            ></th>
                          </thead>
                          <ng-container *ngFor="let ss of liste_saison">
                            <tr>
                              <td>{{ getSaison(ss.id) }}</td>
                              <td>
                                <i
                                  *ngIf="!isRegistredSaison(ss.id)"
                                  class="fas fa-times"
                                ></i>
                                <i
                                  *ngIf="isRegistredSaison(ss.id)"
                                  class="fas fa-check has-text-success"
                                ></i>
                              </td>
                              <td
                                *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                              >
                                <btn
                                  *ngIf="
                                    !isRegistredSaison(ss.id) &&
                                    thisAdherent.valid.control &&
                                    thisAdherent.CompteID > 0
                                  "
                                  [type_button]="'InscrireSmall'"
                                  (click)="Register(thisAdherent, ss.id, false)"
                                >
                            </btn>
  
                                <btn
                                  *ngIf="isRegistredSaison(ss.id)"
                                  [type_button]="'AnnulerSmall'"
                                  (click)="RemoveRegister(ss.id)"
                                >
                          </btn>
                                
                              </td>
                            </tr>
                          </ng-container>
                        </table>
                    </div>
                  </div>
                  <div class="field-container">
                    <div class="field">
                      <app-address
                        [edit]="false"
                        [Adresse]="thisAdherent.Adresse"
                      ></app-address>
                    </div>

                    <div class="field">
                      <label class="label" i18n>Compte</label>
                      <app-compte-detail
                        (changeRattacher)="Rattacher($event)"
                        (demRattachement)="DemanderRattachement($event)"
                        [login]="thisAdherent.Login"
                        [compte_id]="thisAdherent.CompteID"
                      ></app-compte-detail>
                    </div>
                  </div>
                </div>
              </div>
              <footer class="card-footer">
                <div class="columns">
                  <div class="column">
                    <div class="buttons">
                      <btn
                        [type_button]="'EditerSmall'"
                        (click)="Edit(thisAdherent)"
                      ></btn>

                      <btn
                        *ngIf="
                          (GlobalService.Menu$ | async) === 'ADMIN' ||
                          (GlobalService.Menu$ | async) === 'PROF'
                        "
                        [type_button]="'RetourSmall'"
                        (click)="Retour('LISTE')"
                      >
                      </btn>
                    </div>
                  </div>
                </div>
              </footer>
            </div>
          </div>
        </div>
      </span>
      <span class="mobile">
        <nav class="navbar is-fixed-top">
          <btn
          [type_button]="'EditerMobile'"
          (click)="Edit(thisAdherent)"
        ></btn>

        

          <btn
            *ngIf="
              (GlobalService.Menu$ | async) === 'ADMIN' ||
              (GlobalService.Menu$ | async) === 'PROF'
            "
            [type_button]="'RetourMobile'"
            (click)="Retour('LISTE')"
          ></btn>        
        </nav>
        <div class="container-box">
          <div class="field-container">
            <div class="field">
              <label class="label" i18n>Nom / Prénom</label>
              <div>{{thisAdherent.Libelle}}</div>
              </div>
            <div class="field">
              <label class="label" i18n>Date de naissance (Age)</label>
              <div>
                {{ thisAdherent.DDN | date : "dd/MM/yyyy" }}&nbsp;({{
                  calculateAge(thisAdherent.DDN)
                }}&nbsp;<span i18n>ans</span>)
              </div>
            </div>
            <div class="field">
              <label class="label" i18n>Sexe</label>
              <i
                *ngIf="thisAdherent.Sexe"
                class="fa-solid fa-mars has-text-info"
              ></i>
              <i
                *ngIf="!thisAdherent.Sexe"
                class="fa-solid fa-venus has-text-danger"
              ></i>
            </div>
          </div>
          <div class="field-container">
            <div class="field">
              <label class="label" i18n>Contacts</label>
              <ng-container *ngFor="let cont of thisAdherent.Contacts">
                <span *ngIf="cont.Type == 'EMAIL'"
                  ><i class="fas fa-at"></i
                ></span>
                <span *ngIf="cont.Type == 'PHONE'"
                  ><i class="fas fa-phone"></i
                ></span>
                <span *ngIf="cont.Type == 'INSTA'"
                  ><i class="fab fa-instagram-square"></i
                ></span>
                <span *ngIf="cont.Type == 'FACEBOOK'"
                  ><i class="fab fa-facebook-square"></i
                ></span>
                <span *ngIf="cont.Type == 'TWITTER'"
                  ><i class="fab fa-twitter-square"></i
                ></span>
                <span>&nbsp;{{ cont.Value }}</span>
                <br />
              </ng-container>
            </div>
            <div class="field">
              <label class="label" i18n
                >Contacts en cas d'urgence</label
              >
              <ng-container
                *ngFor="let cont of thisAdherent.ContactsUrgence"
              >
                <span *ngIf="cont.Type"><i class="fas fa-at"></i></span>
                <span *ngIf="cont.Type == 'PHONE'"
                  ><i class="fas fa-phone"></i
                ></span>
                <span *ngIf="cont.Type == 'INSTA'"
                  ><i class="fab fa-instagram-square"></i
                ></span>
                <span *ngIf="cont.Type == 'FACEBOOK'"
                  ><i class="fab fa-facebook-square"></i
                ></span>
                <span *ngIf="cont.Type == 'TWITTER'"
                  ><i class="fab fa-twitter-square"></i
                ></span>
                <span>&nbsp;{{ cont.Value }} - {{ cont.Notes }}</span>
                <br />
              </ng-container>
            </div>
          </div>
          <div
            class="field-container"
            *ngIf="
              (GlobalService.Menu$ | async) === 'ADMIN' ||
              (GlobalService.Menu$ | async) === 'PROF'
            "
          >
            <div class="field">
              <label class="label" i18n for="place_maximum"
                >Groupes :</label
              >
              <app-groupe-detail
                (groupesUpdated)="onGroupesUpdated($event)"
                [id_source]="thisAdherent.ID"
                [objet_source]="'rider'"
                [title]="titre_groupe"
                [Groupes]="thisAdherent.Groupes"
                [liste_groupe]="liste_groupe"
              ></app-groupe-detail>
            </div>

            <div class="field">
              <label class="label" i18n>Inscriptions</label>
              <table  class="table" *ngIf="thisAdherent.Adhesions">
                <thead>
                  <th>Saison</th>
                  <th>Inscrit</th>
                  <th
                    *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                  ></th>
                </thead>
                <ng-container *ngFor="let ss of liste_saison">
                  <tr>
                    <td>{{ getSaison(ss.id) }}</td>
                    <td>
                      <i
                        *ngIf="!isRegistredSaison(ss.id)"
                        class="fas fa-times"
                      ></i>
                      <i
                        *ngIf="isRegistredSaison(ss.id)"
                        class="fas fa-check has-text-success"
                      ></i>
                    </td>
                    <td
                      *ngIf="(GlobalService.Menu$ | async) === 'ADMIN'"
                    >
                      <btn
                        *ngIf="
                          !isRegistredSaison(ss.id) &&
                          thisAdherent.valid.control &&
                          thisAdherent.CompteID > 0
                        "
                        [type_button]="'InscrireMobile'"
                        (click)="Register(thisAdherent, ss.id, false)"
                      >
                  </btn>

                      <btn
                        *ngIf="isRegistredSaison(ss.id)"
                        [type_button]="'AnnulerMobile'"
                        (click)="RemoveRegister(ss.id)"
                      >
                </btn>
                      
                    </td>
                  </tr>
                </ng-container>
              </table>
            </div>
          </div>
          <div class="field-container">
            <div class="field">
              <app-address
                [edit]="false"
                [Adresse]="thisAdherent.Adresse"
              ></app-address>
            </div>

            <div class="field">
              <label class="label" i18n>Compte</label>
              <app-compte-detail
                (changeRattacher)="Rattacher($event)"
                (demRattachement)="DemanderRattachement($event)"
                [login]="thisAdherent.Login"
                [compte_id]="thisAdherent.CompteID"
              ></app-compte-detail>
            </div>
          </div>
        </div>
      </span>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="adherent_inscription && saison_inscription">
  <div class="modal" [ngClass]="{ 'is-active': afficher_inscription }">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="box">
        <app-inscription (Fermer)="Fermer($event)"
          [thisAdherent]="adherent_inscription"
          [thisSaison]="saison_inscription.id"
        ></app-inscription>
      </div>
      <button
        class="modal-close is-large"
        aria-label="close"
        (click)="afficher_inscription = false"
      ></button>
    </div>
  </div>
</ng-container>
</div>
